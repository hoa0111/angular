2023-10-11 16:58:34 INFO  vn.tholv.web.WebApplication - Starting WebApplication using Java 19.0.2 with PID 7284 (C:\Users\Admin\Desktop\angular\angular\web\build\classes\java\main started by Admin in C:\Users\Admin\Desktop\angular\angular\web)
2023-10-11 16:58:34 INFO  vn.tholv.web.WebApplication - No active profile set, falling back to 1 default profile: "default"
2023-10-11 16:58:34 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-10-11 16:58:34 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 45 ms. Found 3 JPA repository interfaces.
2023-10-11 16:58:35 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9999 (http)
2023-10-11 16:58:35 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-10-11 16:58:35 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2023-10-11 16:58:35 INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2023-10-11 16:58:35 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 984 ms
2023-10-11 16:58:35 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-10-11 16:58:35 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
2023-10-11 16:58:35 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2023-10-11 16:58:35 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2023-10-11 16:58:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-10-11 16:58:35 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2fc7fa6e
2023-10-11 16:58:35 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-10-11 16:58:35 WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2023-10-11 16:58:36 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2023-10-11 16:58:36 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-10-11 16:58:37 DEBUG o.s.web.filter.CorsFilter - Filter 'corsFilter' configured for use
2023-10-11 16:58:37 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /v2/auth
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /v2/auth/anonymous
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /category/findAll
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /v2/story/findBySearch
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /story/**
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: **
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /role/**
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /permission/**
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /role-permission/**
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /user-role/*
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /v2/chapter-image/**
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /user/save
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /user/**
2023-10-11 16:58:37 INFO  v.t.w.c.override.util.SecurityPath - path security: /story-detail/**
2023-10-11 16:58:37 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 3 mappings in 'requestMappingHandlerMapping'
2023-10-11 16:58:37 DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2023-10-11 16:58:37 INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4dc5b887, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b7dd173, org.springframework.security.web.context.SecurityContextHolderFilter@38ae69f7, org.springframework.security.web.header.HeaderWriterFilter@4645a575, org.springframework.security.web.authentication.logout.LogoutFilter@6c569caf, vn.tholv.web.config.filter.JwtAuthFilter@5c04ec8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@623d222, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@949f0d, org.springframework.security.web.session.SessionManagementFilter@4c1fed69, org.springframework.security.web.access.ExceptionTranslationFilter@288915a1, org.springframework.security.web.access.intercept.AuthorizationFilter@3b39bee2]
2023-10-11 16:58:37 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2023-10-11 16:58:37 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2023-10-11 16:58:37 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9999 (http) with context path '/api'
2023-10-11 16:58:37 INFO  vn.tholv.web.WebApplication - Started WebApplication in 3.653 seconds (process running for 6.072)
2023-10-11 16:58:50 INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-10-11 16:58:50 INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-10-11 16:58:50 DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2023-10-11 16:58:50 DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2023-10-11 16:58:50 DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2023-10-11 16:58:50 DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@48590849
2023-10-11 16:58:50 DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@14b9817b
2023-10-11 16:58:50 DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2023-10-11 16:58:50 INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-10-11 16:58:50 DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /v2/auth
2023-10-11 16:58:51 DEBUG o.s.security.web.FilterChainProxy - Secured OPTIONS /v2/auth
2023-10-11 16:58:51 DEBUG o.s.security.web.FilterChainProxy - Securing POST /v2/auth
2023-10-11 16:58:51 DEBUG o.s.security.web.FilterChainProxy - Secured POST /v2/auth
2023-10-11 16:58:51 DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/v2/auth", parameters={}
2023-10-11 16:58:51 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to vn.tholv.web.controller.v2.AuthController#authenticateAndGetToken(AuthRequest)
2023-10-11 16:58:51 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [vn.tholv.web.core.base.dto.AuthRequest@e57e344]
2023-10-11 16:58:51 DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_date,
        u1_0.email,
        u1_0.level,
        u1_0.modified_date,
        u1_0.password,
        u1_0.status,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2023-10-11 16:58:51 DEBUG org.hibernate.SQL - 
    select
        rl1_0.user_id,
        rl1_1.id,
        rl1_1.created_date,
        rl1_1.modified_date,
        rl1_1.name 
    from
        user_role rl1_0 
    join
        roles rl1_1 
            on rl1_1.id=rl1_0.role_id 
    where
        rl1_0.user_id=?
2023-10-11 16:58:51 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2023-10-11 16:58:51 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2023-10-11 16:58:51 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{accessToken=Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0aG9sdjEyMyIsImlhdCI6MTY5NzAxODMzMSwiZXhwIjoxNjk (truncated)...]
2023-10-11 16:58:51 DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2023-10-11 17:02:26 DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /v2/auth
2023-10-11 17:02:26 DEBUG o.s.security.web.FilterChainProxy - Secured OPTIONS /v2/auth
2023-10-11 17:02:26 DEBUG o.s.security.web.FilterChainProxy - Securing POST /v2/auth
2023-10-11 17:02:26 DEBUG o.s.security.web.FilterChainProxy - Secured POST /v2/auth
2023-10-11 17:02:26 DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/v2/auth", parameters={}
2023-10-11 17:02:26 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to vn.tholv.web.controller.v2.AuthController#authenticateAndGetToken(AuthRequest)
2023-10-11 17:02:26 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [vn.tholv.web.core.base.dto.AuthRequest@606a2dda]
2023-10-11 17:02:26 DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_date,
        u1_0.email,
        u1_0.level,
        u1_0.modified_date,
        u1_0.password,
        u1_0.status,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2023-10-11 17:02:26 DEBUG org.hibernate.SQL - 
    select
        rl1_0.user_id,
        rl1_1.id,
        rl1_1.created_date,
        rl1_1.modified_date,
        rl1_1.name 
    from
        user_role rl1_0 
    join
        roles rl1_1 
            on rl1_1.id=rl1_0.role_id 
    where
        rl1_0.user_id=?
2023-10-11 17:02:26 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2023-10-11 17:02:26 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2023-10-11 17:02:26 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{accessToken=Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0aG9sdjEyMyIsImlhdCI6MTY5NzAxODU0NiwiZXhwIjoxNjk (truncated)...]
2023-10-11 17:02:26 DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2023-10-11 17:02:45 DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /v2/auth
2023-10-11 17:02:45 DEBUG o.s.security.web.FilterChainProxy - Secured OPTIONS /v2/auth
2023-10-11 17:02:45 DEBUG o.s.security.web.FilterChainProxy - Securing POST /v2/auth
2023-10-11 17:02:45 DEBUG o.s.security.web.FilterChainProxy - Secured POST /v2/auth
2023-10-11 17:02:45 DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/v2/auth", parameters={}
2023-10-11 17:02:45 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to vn.tholv.web.controller.v2.AuthController#authenticateAndGetToken(AuthRequest)
2023-10-11 17:02:45 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [vn.tholv.web.core.base.dto.AuthRequest@b5291cc]
2023-10-11 17:02:46 DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_date,
        u1_0.email,
        u1_0.level,
        u1_0.modified_date,
        u1_0.password,
        u1_0.status,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2023-10-11 17:02:46 DEBUG org.hibernate.SQL - 
    select
        rl1_0.user_id,
        rl1_1.id,
        rl1_1.created_date,
        rl1_1.modified_date,
        rl1_1.name 
    from
        user_role rl1_0 
    join
        roles rl1_1 
            on rl1_1.id=rl1_0.role_id 
    where
        rl1_0.user_id=?
2023-10-11 17:02:46 DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2023-10-11 17:02:46 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2023-10-11 17:02:46 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{accessToken=Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0aG9sdjEyMyIsImlhdCI6MTY5NzAxODU2NiwiZXhwIjoxNjk (truncated)...]
2023-10-11 17:02:46 DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
